language: node_js

node_js:
  - "node"   # Latest stable Node.js release
  - "lts/*"  # Latest LTS Node.js release

matrix:
  fast_finish: true

install:
  - yarn install

script:
  - echo -e "$(curl --silent https://raw.githubusercontent.com/FantasticFiasco/logo/master/logo.ansi)"
  - if [ "$TRAVIS_NODE_VERSION" == "node" ]; then yarn coverage:publish; fi
  - if [ "$TRAVIS_NODE_VERSION" != "node" ]; then yarn test; fi
  - yarn lint

deploy:
  - provider: npm
    email: mattias.kindborg@gmail.com
    api_key:
      secure: NKdwfkS/ai9xY+30j054wpnNX/btUo3e7aMNdG5ZLgVqSHoOnadq45gWTR0Z5y7Eri4Cwrnkwtbu9QBBZc02335crOXdjTm3Jm9+eGOyCtBzoQp1M/PGqfEzu+80dwniqLIGo9D8csK6bReQZO0/EjrsPMtc+O+Zjs5rL3B9hIp2vueph4Bpm2xz7VyJdLoh66zhGLhGSBwFTkvdczaIMvY7FG6+NOZJsJwsBAXnA1f4KdxsPq3EYVXE5WGxCd1TCulLmeeCnyjyr8+S5lUmge48/Jvlq06qIGJaogc2h/IIfhbyqW5RpRLgFFKnFiigLwSMfInC0LB0Vn+z7Cqio+ippIY+SgTMos8sF4KpxaVDc7DxFsBbVtlzYIrndm7cymzIENdxyuE6XDzGNh6yUyhm7gTzPmzrAKi1RHIkc1dGijGSH72emYy76bgd+xGPOX/Zgdg57eIE5F+CN/3w30vf3ByTvUTtC6k1l+t1CB7kD4qLRtU9R5DYrJISj/J0cVMsiRmG64uNXD98lk7k2lKffeD6AH4909CNBjv8WkiITQPQuU9CKPnxjq0iPG1VME47lecn4UI0kRmKbYaFmOQfyE7UNa+cMZHPUnR8gxfn8PIwGLVwBPEqXfwg/daRHPAixbymCc0C+03PYWIIyVSHjGLh2u/30EpnyNyGT6U=
    skip_cleanup: true
    on:
      tags: true
  - provider: releases
    name: Release $TRAVIS_TAG
    api_key:
      secure: g+1ORRUWfZiM20bJIwMc2SF1rkZzU/o7AgpD0uqMZiP4LG27MXogEViM7Ef/bSXEdRdR1lOaPbjISRhG3AozXziLqWS2ej9mifCU11Fhuz63GIDkodYdxisDWMnW4w4LAJqPMb12DtR9WcHATHfbYAlOiAXvSuO2fGpgOeAMqymih4KzM/j9+A6bMjive9cOJh2VkCYvCbi9CcFUOxFVQkpKHyr58AJLpAvIrESJVs/IKzFZlKW8mwJXGKmRhoCLdN1N/9jCL7I0WSgsndI20YJARDyTu33RCOfdYO9MWTDoGr74ZzvhaduHlCVw8tAuIF9/selwScrP/+TozzII7cx0qNhLTGPEuSpPBo8hj3QRbFgTEk0vGoe3clPeVjOB4TJuI96Cvfrd48Qd685C+JczOkeiTBLu5/ih+ZZSygN0+ZmDkGq8pedAmqZ8xra+mqm7GbwN/q2Nvr6i/DHZpkSNy10EB6Sf97WtuU7mKnbxfejuQbg/fjn1tgdFFX8KHd99XPGPtWlfj7ReqSE6FR07ZRU5a5vTtyTN/jo7p8UtpLLfEINqn/UWhnB4jEQyZE4PhCXJOgBk380udxwtdTz/Lvk7X9LS02QI0JVHLP2x7gyqvIZNt1iE+8+0F0maiMXiFcRtDvEEphaIIHKZ3ra7664cVNcsD2JDSAymZww=
    on:
      tags: true
